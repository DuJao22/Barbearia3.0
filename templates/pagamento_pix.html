{% extends "base.html" %}

{% block title %}Pagamento PIX - {{ configuracoes_barbearia.nome_barbearia if configuracoes_barbearia else 'Barbearia Premium' }}{% endblock %}

{% block content %}
<div class="card">
    <h1><i class="fas fa-qrcode"></i> Pagamento via PIX</h1>
    <p>Complete seu agendamento realizando o pagamento</p>
</div>

<div class="card">
    <h3><i class="fas fa-receipt"></i> Detalhes do Agendamento</h3>
    <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
    <div style="background: #404040; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem; border: 1px solid #555;">
        <div class="grid-2">
            <div>
                <p><strong>Funcionário:</strong> {{ agendamento[6] }}</p>
                <p><strong>Serviço:</strong> {{ agendamento[7] }}</p>
                <p><strong>Data/Hora:</strong> {{ agendamento[8] }}</p>
            </div>
            <div>
                <p><strong>Cliente:</strong> {{ agendamento[2] }}</p>
                <p><strong>Valor Total:</strong> <span class="money" style="font-size: 1.5rem;">R$ {{ "%.2f"|format(agendamento[10]) }}</span></p>
            </div>
        </div>
    </div>

    <div style="text-align: center; margin: 2rem 0;">
        <h3><i class="fas fa-mobile-alt"></i> Instruções para Pagamento</h3>
        <div style="background: #e3f2fd; padding: 2rem; border-radius: 12px; margin: 1rem 0;">
        <div style="background: #0d47a1; padding: 2rem; border-radius: 12px; margin: 1rem 0; border: 1px solid #1976d2;">
            <h4 style="color: #64b5f6; margin-bottom: 1rem;">Chave PIX:</h4>
            <div style="background: #2d2d2d; padding: 1rem; border-radius: 8px; font-family: monospace; font-size: 1.2rem; font-weight: bold; color: #e0e0e0; border: 2px dashed #64b5f6;">
                {{ chave_pix }}
            </div>
            <p style="margin-top: 1rem; color: #bbdefb;">
                <i class="fas fa-info-circle"></i> Copie a chave PIX acima e realize o pagamento no seu banco
            </p>
        </div>

        <div style="background: #5d4037; padding: 1.5rem; border-radius: 8px; margin: 1rem 0; border: 1px solid #8d6e63;">
            <h4 style="color: #ffcc02;">Como pagar:</h4>
            <ol style="text-align: left; color: #ffcc02; margin: 1rem 0;">
                <li>Abra o aplicativo do seu banco</li>
                <li>Acesse a área PIX</li>
                <li>Escolha "Pagar com chave PIX"</li>
                <li>Cole a chave PIX acima</li>
                <li>Confirme o valor: <strong>R$ {{ "%.2f"|format(agendamento[10]) }}</strong></li>
                <li>Finalize o pagamento</li>
            </ol>
        </div>
    </div>

    <div style="text-align: center;">
        <a href="{{ url_for('confirmar_pagamento', agendamento_id=agendamento[0]) }}" 
           class="btn" style="font-size: 1.2rem; padding: 1rem 2rem; margin-right: 1rem;">
            <i class="fas fa-check"></i> Já Realizei o Pagamento
        </a>
        
        <a href="{{ url_for('dashboard_cliente') }}" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Voltar ao Dashboard
        </a>
    </div>

    <div style="background: #b71c1c; color: #ffcdd2; padding: 1rem; border-radius: 8px; margin-top: 2rem; text-align: center; border: 1px solid #d32f2f;">
        <i class="fas fa-exclamation-triangle"></i> <strong>Importante:</strong> 
        Seu agendamento só será confirmado após a verificação do pagamento pelo administrador.
    </div>
</div>
{% endblock %}